\section{Points techniques}

%	- DirectFB et ioctl
%		- ioctl
%			- les différentes commandes ioctls
%				- SEND_UPDATE
%					- struture mxcfb_update_data 
%					- diffrents champs
%				- MXCFB_WAIT_FOR_UPDATE_COMPLETE
%				- différentes ioctls

\subsection{Le driver et les ioctl}
\begin{frame}[fragile]{Les ioctl}
	\begin{block}{Les commandes ioctl}
		\begin{itemize}
			\item MXCFB\_SEND\_UPDATE 
				\begin{itemize}
					\item la structure mxcfb\_update\_data 
							\begin{itemize}
								\item update\_region
								\item waveform\_mode
								\item update\_mode
								\item update\_marker
								\item temp
								\item flags
								\item alt\_buffer\_data
							\end{itemize}
				\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}{Les ioctl}
	\begin{block} {Les commandes ioctl}
		\begin{itemize}
				\item MXCFB\_WAIT\_FOR\_UPDATE\_COMPLETE
			\begin{itemize}
				\item synchronisation de la mise à jour définie par l'update marker
			\end{itemize}
			\item MXCFB\_SET\_AUTO\_UPDATE\_MODE
			\begin{itemize}
				\item active les deferred\_io
				\item dépend de l'option CONFIG\_FB\_MXC\_EINK\_AUTO\_UPDATE\_MODE
			\end{itemize}
		\end{itemize}
	\end{block}
\end{frame}

		% - directfb
		% 	- implémentation des primitive graphique
		% 	- n'interagit pas avec le matériel directement 
		% 	- interaction avec le framebuffer

\begin{frame}{DirectFB}
	\begin{block} { Les primitives }
		\begin{itemize}
			\item Traçage d'éléments géométriques (rectangle, triangle)
			\item Chargement d'image
		\end{itemize}
	\end{block}
	\begin{block} { Interaction avec le framebuffer }
		 \begin{itemize}
		 	\item Sauvegarde des modifications% dans un buffer local 
		 	\item Appel a \emph{Flip()} 
		 \end{itemize}
	\end{block}
\end{frame}
